# ****Web Server와 WAS의 차이****

## Static Pages와 Dynamic Pages

![image](https://user-images.githubusercontent.com/76686872/169220490-dacadc7a-fa96-41b5-b031-d3cb4fa0f20f.png)

### 정적 페이지 (Static Pages)

: 바뀌지 않는 페이지

웹 서버는 파일 경로 이름을 받고, 경로와 일치하는 file contents(항상 동일한 페이지)를 반환함

> image, html, css, javascript 파일과 같이 컴퓨터에 저장된 파일들
> 

### 동적 페이지 (Dynamic Pages)

: 인자에 따라 바뀌는 페이지. 인자의 내용에 맞게 동적인 contents를 반환. 

웹 서버에 의해 실행되는 프로그램을 통해 만들어진 결과물임 

> Servlet : was 위에서 돌아가는 자바 프로그램
> 

---

## **웹 서버와 WAS의 차이**

![image](https://user-images.githubusercontent.com/76686872/169220459-78de536f-bdf7-4949-afc4-363984f72f30.png)

### 웹 서버

- 개념
    - 하드웨어) Web 서버가 설치되어 있는 컴퓨터
    - 소프트웨어) 웹 브라우저 클라이언트로부터 HTTP 요청을 받고, 정적인 콘텐츠(html, css 등)를 제공하는 컴퓨터 프로그램
- 기능
    - HTTP 프로토콜을 기반으로, 클라이언트의 요청을 서비스
    - 요청에 맞게 둘 중 선택해 수행
        - 정적 콘텐츠 제공
            
            > WAS를 거치지 않고 바로 자원 제공
            > 
        - 동적 콘텐츠 제공을 위한 요청 전달
            
            > 클라이언트 요청을 WAS에 보내고, WAS에서 처리한 결과를 클라이언트에게 전달
            > 
- 종류: Apache, Nginx, IIS 등

### WAS (Web Application Server)

- 개념
    - DB 조회 및 다양한 로직 처리 요구시 동적인 컨텐츠를 제공하기 위해 만들어진 애플리케이션 서버
    - HTTP를 통해 애플리케이션을 수행해주는 미들웨어
    - **웹 컨테이너** 혹은 **서블릿 컨테이너**라고도 불림
        
        > 컨테이너: JSP, Servlet을 실행시킬 수 있는 소프트웨어. 
        즉, WAS는 JSP, Servlet 구동 환경을 제공해줌
        > 
- 역할
    - 웹 서버 + 웹 컨테이너
    - 웹 서버의 기능들을 구조적으로 분리하여 처리하는 역할
        - 분산 트랜잭션, 보안, 메시징, 스레드 처리 등 분산 환경에서 사용됨 (주로 DB 서버와 함께 사용)
- 주요 기능
    1. 프로그램 실행 환경 및 DB 접속 기능 제공
    2. 여러 트랜잭션(논리적 작업 단위) 관리 기능
    3. 업무 처리하는 비즈니스 로직 수행
- 종류 : Tomcat, JBoss, Jeus, Web Sphere 등

---

### 웹 서버가 필요한 이유

웹 서버에서는 정적 콘텐츠만 처리하도록 기능 분배해 서버 부담을 줄임

- 클라이언트에게 이미지 파일(정적 콘텐츠)를 보낼 때 사용
- 웹 문서(html 문서)가 클라이언트로 보내질 때 이미지 파일과 같은 정적 파일은 함께 보내지지 않음. 먼저 html 문서를 받고, 필요한 이미지 파일들을 다시 서버로 요청해서 받아오는 것
- 웹 서버를 통해서 정적인 파일을 애플리케이션 서버까지 가지 않고 앞단에 빠르게 보낼 수 있음

### WAS가 필요한 이유

WAS를 통해 요청에 맞는 데이터를 DB에서 가져와 비즈니스 로직에 맞게 그때마다 결과를 만들고 제공하면서 자원을 효율적으로 사용할 수 있음

- 동적인 콘텐츠를 제공해야 할 때 사용
- 웹 서버만으로는 사용자가 원하는 요청에 대한 결과값을 모두 미리 만들어놓고 서비스하기에는 자원이 절대적으로 부족함
- WAS를 통해 요청이 들어올 때마다 DB와 비즈니스 로직을 통해 결과물을 만들어 제공

### WAS 혼자 웹 서버 역할까지 다 처리하게 두지 않고 분리하는 이유

1. 기능 분리해 서버 부하 방지
    - WAS는 DB 조회, 다양한 로직을 처리하느라 바쁨. 단순한 정적 콘텐츠는 웹 서버에게 맡기며 기능을 분리시켜 서버 부하를 방지하는 것
        
        > 만약 WAS가 정적 콘텐츠 요청까지 처리하면, 부하가 커지고 동적 콘텐츠 처리가 지연되면서 수행 속도가 느려짐 → 페이지 노출 시간 늘어나는 문제 발생
        > 
2. 여러 대의 WAS를 연결지어 사용 가능
    - 장애 극복에 쉽게 대응 가능
        
        > 웹 서버를 앞 단에 두고, WAS에 오류가 발생하면 사용자가 WAS를 이용하지 못하게 막아둔 뒤 WAS를 재시작해 해결할 수 있음 (사용자는 오류를 느끼지 못하고 이용 가능)
        > 

⇒ 자원 이용의 효율성 및 장애 극복, 배포 및 유지 보수의 편의성 

- 웹 서버를 WAS 앞에 두고, 필요한 WAS들을 웹 서버에 플러그인 형태로 설정하면 효율적인 분산 처리가 가능함

---

참고 자료: [링크](https://gmlwjd9405.github.io/2018/10/27/webserver-vs-was.html)
